<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../dhis-web-commons/javascripts/ext/ext-all.js"></script>
  <script src="../dhis-web-commons/javascripts/openlayers/OpenLayers.js"></script>
  <script type="text/javascript" src="../dhis-web-commons/javascripts/moment/moment-with-langs.min.js"></script>
  <script type="text/javascript" src="../dhis-web-commons/javascripts/moment/moment-with-langs.min.js"></script>
  <script type="text/javascript" src="https://momentjs.com/downloads/moment-with-locales.min.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://printjs-4de6.kxcdn.com/print.min.js"></script>
  <link rel="stylesheet" href="https://printjs4de6.kxcdn.com/print.min.css" />
</head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Report Template</title>
<style>
  table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  border: 1px solid black;
  padding: 4px;
  text-align: left; /* Align text to the left */
}

th {
  background-color: #f2f2f2;
}

  .centered {
    text-align: center;
  }
  .header {
  border: 1px solid black;
  padding: 10px;
  display: flex;
  justify-content: space-between;
}

.header-left, .header-right {
  flex: 1;
}
.table-container {
  display: flex;
}

.table-container table {
  flex: 1;
  margin-right: 10px; /* Adjust spacing between tables */
}
.table-container div {
  flex: 1;
  margin-right: 10px; /* Adjust spacing between tables */
}

#approvals {
  margin-left: 20px;
}

button.btn-export {
            background-color: #07405a;
            color: #fff;
            font-weight: bold;
            padding: 10px 15px;
            border-radius: 5px;
            border: none;
            transition: all 0.3s ease-in-out;
            cursor: pointer;

        }

</style>

<script>
  // Report Indicators
  //TODO: create an array of all needed indicators ids

  const REPORT_INDICATORS = {
    "G8aw1WJsbZF":"PEV-Stock de fin de mois BCG",
    "ifoaUHJcRAE":"PEV-Stock de fin de mois Pentavalent",
    "KBGztWwZApP":"population total",
    "eSC5MXk4h2m": "BCG  ",
    "RklbhiuTRmI": "Penta-1 ",
    "Szv5mp9uGVH": "Penta-2 ",
    "YwhJ5lStYHp": "Penta-3 ",
    "F63U0EPsz03": "VPI-1",
    "dnVIcFqExM8": "VPI-2",
    "bQkaHEIR4po": "VAR-1",
    "ShcxSZKYsOp": "VAR-2",
    "F8cgBB8z1V8": "VAA  ",
    "lHij0C81TkY": "MenA ",
    "qcPoPdqq6PQ":"Penta-1/Penta-3",
    "j8GGnwPN6pR":"Penta-1/VAR 1  ",
    "RJEfsKztwMk":"Ecart VAR 1/VAA",
    "ARrstEboQGm":"Ecart Polio 3/VPI 1",
    "RgldIoF0F9A":"Nombre des Districts Sanitaire ",
    "byFa9L7lZ44":"Nombre de rapports recus:",
    "B81IxOVopOg":"Nombre de rapports recus a temps: ",
    "bemQsFwoMdZ":"Taux de completude: 2/1 x 100= ",
    "KBGztWwZApP":"Population totale desservie: ",
    "Flaf0zM6F1O":"Grossesses attendues",
    "mBb22BuG982":"Naissances vivantes ",
    "tPzSATP3ooB":"Enfants survivants moins d'un an",
   }

   const REPORT_ELEMENTS_AND_CATEGORY_OPTION_COMBO_SEDENTAIRE = {
    "j3A8puUr3lT.bM2ULjCnqKf":"bcg_0_11",
    "BazGWWSuUSR.bM2ULjCnqKf":"polio0_0_11",
    "JRUmdPhq1Zi.bM2ULjCnqKf":"polio1_0_11",
    "JRUmdPhq1Zi.LLStfhXXh1P":"polio1_12_23",
    "JRUmdPhq1Zi.HOIDSzZmI70":"polio1 > 23",
    "I10rLe4mqXu.bM2ULjCnqKf":"polio2_0_11",
    "I10rLe4mqXu.LLStfhXXh1P":"polio2_12_23",
    "I10rLe4mqXu.HOIDSzZmI70":"polio2 > 23",
    "vE8pNKqjcdg.bM2ULjCnqKf":"polio3_0_11",
    "vE8pNKqjcdg.LLStfhXXh1P":"polio3_12_23",
    "vE8pNKqjcdg.HOIDSzZmI70":"polio3 > 23",
    "hOuU8SwUG4X.bM2ULjCnqKf":"vp1_0_11",
    "hOuU8SwUG4X.LLStfhXXh1P":"vp1_12_23",
    "hOuU8SwUG4X.HOIDSzZmI70":"vp1 > 23",
    "jzSVIYXmw63.bM2ULjCnqKf":"vp2_0_11",
    "jzSVIYXmw63.LLStfhXXh1P":"vp2_12_23",
    "jzSVIYXmw63.HOIDSzZmI70":"vp2 > 23",
    "G290xSRWg5N.bM2ULjCnqKf":"pentavalent1_0_11",
    "G290xSRWg5N.LLStfhXXh1P":"pentavalent1_12_23",
    "G290xSRWg5N.HOIDSzZmI70":"pentavalent1 > 23",
    "Ibe2Sfksm4h.bM2ULjCnqKf":"pentavalent2_0_11",
    "Ibe2Sfksm4h.LLStfhXXh1P":"pentavalent2_12_23",
    "Ibe2Sfksm4h.HOIDSzZmI70":"pentavalent2 > 23",
    "hPjkV6i133g.bM2ULjCnqKf":"pentavalent3_0_11",
    "hPjkV6i133g.LLStfhXXh1P":"pentavalent3_12_23",
    "hPjkV6i133g.HOIDSzZmI70":"pentavalent3 > 23",
    "TtjmcRwO7uu.bM2ULjCnqKf":"rota1_0_11",
    "TtjmcRwO7uu.LLStfhXXh1P":"rota1_12_23",
    "TtjmcRwO7uu.HOIDSzZmI70":"rota1 > 23",
    "g9Q2G10Apwz.bM2ULjCnqKf":"rota2_0_11",
    "g9Q2G10Apwz.LLStfhXXh1P":"rota2_12_23",
    "g9Q2G10Apwz.HOIDSzZmI70":"rota2 > 23",
    "KuUj7VnJwBt.bM2ULjCnqKf":"pneumo1_0_11",
    "KuUj7VnJwBt.LLStfhXXh1P":"pneumo1_12_23",
    "KuUj7VnJwBt.HOIDSzZmI70":"pneumo1 > 23",
    "PvCCwAlo5Ow.bM2ULjCnqKf":"pneumo2_0_11",
    "PvCCwAlo5Ow.LLStfhXXh1P":"pneumo2_12_23",
    "PvCCwAlo5Ow.HOIDSzZmI70":"pneumo2 > 23",
    "qWrIz47PwaK.bM2ULjCnqKf":"pneumo3_0_11",
    "qWrIz47PwaK.LLStfhXXh1P":"pneumo3_12_23",
    "qWrIz47PwaK.HOIDSzZmI70":"pneumo3 > 23",
    "S8JPuieBWVA.bM2ULjCnqKf":"var1_0_11",
    "S8JPuieBWVA.LLStfhXXh1P":"var1_12_23",
    "S8JPuieBWVA.HOIDSzZmI70":"var1 > 23",
    "HSYr8SwzwUm.LLStfhXXh1P":"var2_12_23",
    "HSYr8SwzwUm.HOIDSzZmI70":"var2 > 23",
    "SPfhUH7AuhZ.bM2ULjCnqKf":"vaa_0_11",
    "SPfhUH7AuhZ.LLStfhXXh1P":"vaa_12_23",
    "SPfhUH7AuhZ.HOIDSzZmI70":"vaa > 23",
    "bssETYC2yiP.bM2ULjCnqKf":"menafrivac_0_11",
    "bssETYC2yiP.LLStfhXXh1P":"menafrivac_12_23",
    "bssETYC2yiP.HOIDSzZmI70":"menafrivac > 23",
    "SPkckba5Sxr.bM2ULjCnqKf":"vitamin_a_0_11",
    "SPkckba5Sxr.LLStfhXXh1P":"vitamin_a_12_23",
    "SPkckba5Sxr.HOIDSzZmI70":"vitamin_a > 23",
    "KkoZGuApdqc.bM2ULjCnqKf":"mebendazole_0_11",
    "KkoZGuApdqc.LLStfhXXh1P":"mebendazole_12_23",
    "KkoZGuApdqc.HOIDSzZmI70":"mebendazole > 23",
    "PFaypXi1Sp6.bM2ULjCnqKf":"milda_0_11",
    "xbaRHKQvYHO.vjuyYLw6VCY":"td1",
    "CzYvrZ5q70R.vjuyYLw6VCY":"td2",
    "fbwTqo4KYXu.vjuyYLw6VCY":"td3",
    "A2F4HzSSd2t.vjuyYLw6VCY":"td4",
    "ewklmEhXgbk.vjuyYLw6VCY":"td5",
   }

   
   function generateReportData(periods, orgUnit, organisationUnitChildren) {

      getDataSetValues({
          dx: Object.keys(REPORT_ELEMENTS_AND_CATEGORY_OPTION_COMBO_SEDENTAIRE),
          ou: [orgUnit.id],
          pe: [...periods],
      })

      // getting indicators values
      getIndicatorsValues({
          dx: Object.keys(REPORT_INDICATORS),
          pe: [...periods],
          ou: [orgUnit.id]
      })


      // completude_promptitude
      createVisualizations({
          dx: ["nHyeKWdY0YB","SDVFpi3XYGp"],
          ou: orgUnit.id,
          type: 'bar',
          element_id: 'completude_promptitude',
          title: 'Completude et promptitude du raportage mensuel'
      })
    
    // total_reports
    createVisualizations({
        dx: ["kZgNsNeuoF6","H1hB4KdjNq1"],
        ou: orgUnit.id,
        type: 'bar',
        element_id: 'total_reports',
        title: 'Completude et promptitude du raportage mensuel'

    })

    // coverages
    createVisualizations({
      dx: ["mtH2MasQqBy","plizDezKkUS","C3dcHuAR2Ea","qcPoPdqq6PQ"],
        ou: orgUnit.id,
        type: 'line',
        element_id: 'coverage1',
        title: 'Courbes de monitorage de la couverture vaccinale'
    })

    createVisualizations({
      dx: ["mtH2MasQqBy","plizDezKkUS","DsYop6rFKqK","QU1u4ROoX6v"],
        ou: orgUnit.id,
        type: 'line',
        element_id: 'coverage2',
        title: 'Courbes de monitorage de la couverture vaccinale'

    })

    // performance
    createVisualizations({
      dx: ["BAJabOw287r","iCTpqCHXmX4","iWwBw6lKQ6g","BxooxCyENPd","j3eLIiRWZT7","YwhJ5lStYHp"],
        ou: orgUnit.id,
        type: 'bar',
        element_id: 'evolution_perf_by_coverage_penta3'
    })

    createVisualizations({
        dx: ["nHyeKWdY0YB","SDVFpi3XYGp"],
        ou: orgUnit.id,
        type: 'bar',
        element_id: 'perf_by_category'
    })
     
    createVisualizations({
        dx: ["nHyeKWdY0YB","SDVFpi3XYGp"],
        ou: orgUnit.id,
        type: 'line',
        element_id: 'taux_de_perte_vaccine'
    })
     
    createVisualizations({
        dx: ["nHyeKWdY0YB","SDVFpi3XYGp"],
        ou: orgUnit.id,
        type: 'line',
        element_id: 'district_utilization_vaccine'
    })
     
   }

</script>

<script type="text/javascript">
   /* Vous pouvez changer l'URL du Serveur ( l'instance DHIS2 ) */
   var SERVEUR_URL = 'https://dev.sante.gouv.td/sisr'

   

   /* A ne pas Toucher */
   const getDataSetValues = async ({dx =[''], ou = [''], pe = ['2022'], }) => {
            try {
                const route = `${SERVEUR_URL}/api/analytics?dimension=dx:${dx.join(';')}&dimension=ou:${ou.join(';')}&dimension=pe:${pe.join(';')}`
                
                const response = await axios.get(route)
                const data = response.data
                const rows = data.rows
                const headers = data.headers
                // console.log('route', route)
                // console.log("data", data)
                // console.log("rows", rows)
                // variables to store report values such as totals 
                let bcg_total = 0;
                let penta1_total = 0;
                let penta2_total = 0;
                let penta3_total = 0;
                let polio0_total = 0;
                let polio1_total = 0;
                let polio2_total = 0;
                let polio3_total = 0;
                let vpi1_total = 0;
                let vpi2_total = 0;

                // loop throught rows and populate the innerhtml using the ids
                rows.forEach(row => {
                    const [dx, ou, pe, value] = row
                    const element_id = dx
                    const element_value = value

                    // check if the element id is in html
                    if (document.getElementById(element_id)) {
                        // populate the html elements with the values
                        document.getElementById(element_id).innerHTML = element_value
                    } 

                    // calculate the totals looking at the dx's first element after splitting by '.'
                    if (dx.split('.')[0] === 'j3A8puUr3lT') {
                        bcg_total += parseInt(value)
                    } else if (dx.split('.')[0] === 'G290xSRWg5N') {
                        penta1_total += parseInt(value)
                    } else if (dx.split('.')[0] === 'Ibe2Sfksm4h') {
                        penta2_total += parseInt(value)
                    } else if (dx.split('.')[0] === 'hPjkV6i133g') {
                        penta3_total += parseInt(value)
                    } else if (dx.split('.')[0] === 'BazGWWSuUSR') {
                        polio0_total += parseInt(value)
                    } else if (dx.split('.')[0] === 'JRUmdPhq1Zi') {
                        polio1_total += parseInt(value)
                    } else if (dx.split('.')[0] === 'I10rLe4mqXu') {
                        polio2_total += parseInt(value)
                    } else if (dx.split('.')[0] === 'vE8pNKqjcdg') {
                        vpi1_total += parseInt(value)
                    } else if (dx.split('.')[0] === 'jzSVIYXmw63') {
                        vpi2_total += parseInt(value)
                    }

                })

                  // populate the totals in the html
                  // document.getElementById("bcg_total").innerHTML = bcg_total
                  // document.getElementById("penta1_total").innerHTML = penta1_total
                  // document.getElementById("penta2_total").innerHTML = penta2_total
                  // document.getElementById("penta3_total").innerHTML = penta3_total

                
                //TODO: Create a single graph with api data for now
                //TODO: add print button and test it (may be not urgent)

                

            } catch (err) {
                console.log(err)
            }
        }

    const getIndicatorsValues =  async ({ dx, pe, ou }) => {
          try {
            const route = `${SERVEUR_URL}/api/analytics/dataValueSet.json?dimension=dx:${dx.join(';')}&dimension=pe:${pe.join(';')}&dimension=ou:${ou.join(';')}`
            const response = await axios.get(route)
            const dataValues = response.data.dataValues

            //TODO : populate the indicators values in the html elements with looping through the dataValues
            // you need first to create the html elements with the same id as the data element id in the api
            // then loop through the dataValues and populate the html elements with the values


          }catch (err){
            console.log("Error occured while getting indicators:", err);
          }
    }
      

    const createVisualizations = async ({dx =[''], ou, type, element_id, title }) =>{
      try {
            // const route = `${SERVEUR_URL}/api/analytics?dimension=dx:${dx.join(';')},pe:MONTHS_THIS_YEAR&filter=ou:${ou}`
            const route = `${SERVEUR_URL}/api/analytics?dimension=dx:${dx.join(';')},pe:LAST_12_MONTHS&filter=ou:${ou}`

            // get data
            const response = await axios.get(route)
            const data = response.data
            console.log('data', data);
            // Prepare your data
            var labels = [];
            var datasets = {};

            data.rows.forEach(function(row) {
                var period = data.metaData.items[row[1]].name;
                var value = parseFloat(row[2]);
                var dx = row[0];

                if (!datasets[dx]) {
                    datasets[dx] = {
                        label: data.metaData.items[dx].name,
                        data: [],
                        backgroundColor: 'rgba(' + Math.floor(Math.random() * 256) + ', ' + Math.floor(Math.random() * 256) + ', ' + Math.floor(Math.random() * 256) + ', 1)',
                        borderWidth: 1
                    };
                }

                if (labels.indexOf(period) === -1) {
                    labels.push(period);
                }

                datasets[dx].data.push(value);
            });

            // Convert datasets to array
            var datasetsArray = Object.keys(datasets).map(function(key) {
                return datasets[key];
            });

            var ctx = document.getElementById(element_id).getContext('2d');

            // Create the chart
            new Chart(ctx, {
                type: type,
                data: {
                    labels: labels,
                    datasets: datasetsArray
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true,
                        },
                    },
                    responsive: false,
                    plugins: {
                      title: {
                          display: true,
                          text: title
                      },
                      legend: {
                          display: true,
                          position: 'bottom'
                      }
                  },
                }
            });

      }catch (err){
        console.log('Error occurred while creating the visualizations:', err);
      }

  }


  /* A ne pas Toucher */
  Ext.onReady(function (event) {
            var date = dhis2.report.date;
            var periods = dhis2.report.periods;
            var orgUnit = dhis2.report.organisationUnit;
            var organisationUnitChildren = dhis2.report.organisationUnitChildren;


            const selected_period = document.getElementById("selected-period")
            if (selected_period && periods?.length > 0) {
              selected_period.innerHTML = moment(periods[0]).format("MMMM YYYY")
                generateReportData(periods, orgUnit, organisationUnitChildren)
            }

        })


  // Print the report
  function printDVDMT_Report() {
    printJS({
      printable: 'content-to-print',
      type: 'html',
      style: `
        table {
          border-collapse: collapse;
          width: 100%;
        }

        th, td {
          border: 1px solid black;
          padding: 4px;
          text-align: left; /* Align text to the left */
        }

        th {
          background-color: #f2f2f2;
        }

          .centered {
            text-align: center;
          }
          .header {
          border: 1px solid black;
          padding: 10px;
          display: flex;
          justify-content: space-between;
        }

        .header-left, .header-right {
          flex: 1;
        }
        .table-container {
          display: flex;
        }

        .table-container table {
          flex: 1;
          margin-right: 10px; /* Adjust spacing between tables */
        }
        .table-container div {
          flex: 1;
          margin-right: 10px; /* Adjust spacing between tables */
        }

        #approvals {
          margin-left: 20px;
        }
      `
    });
  }
</script>




</head>
<body>
  <div style="text-align: center; margin: 10px auto;">
    <button onclick="printDVDMT_Report()" class="btn-export" style="margin-left: 20px;">
        Imprimer le Raport DVD-MT
    </button>
</div>

  <div id="content-to-print">
      
      <section id="section_one">
        <div class="header">
          <div class="header-left">
            MINISTERE DE LA SANTE PUBLIQUE <br>
            --------------<br>
            PROGRAMME ELARGI DE VACCINATION
    
          </div>
          <div class="header-right">
            REPUBLIQUE DU TCHAD<br>
            --------------<br>
            Unité - Travail - Progrès
          </div>
        </div>
      </section>
    
    <section id="section_two">
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th colspan="3">SD.S.P: <span id="orgUnit"></span> </th>
            </tr>
            <tr>
              <th colspan="3" >DIDSTRICT:</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="2">Population totale desservie:</td>
              <td id="KBGztWwZApP">56</td>
              
            </tr>
            <tr>
              <td colspan="2">Grossesses attendues</td>
              <td id="Flaf0zM6F1O">3</td>
              
            </tr>
            <tr>
              <td colspan="2">Naissances vivantes</td>
              <td id="Flaf0zM6F1O">6</td>
            </tr>
            <tr>
              <td colspan="2">Enfants survivants moins d'un an</td>
              <td id="tPzSATP3ooB">6</td>
            </tr>
            <tr>
              <td colspan="2">Enfants survivants 12-23mois</td>
              <td>6</td>
          </tbody>
        </table>
      
        <table>
          <thead>
            <tr>
              <th colspan="3">Annee: <span id="selected-period"></span></th>
            </tr>
            <tr>
              <th colspan="3" >Mois: <span id="period"></span></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="2">Nom du responsable PEV:</td>
              <td>ASSANE KIRAM KADI</td>
              
            </tr>
            <tr>
              <td colspan="2">Contact</td>
              <td>6503948394</td>
              
            </tr>
    
          </tbody>
        </table>
      
      
      </div>
    </section>
    
    <section id="section_three">
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th colspan="8">RAPPORT MENSUEL DE VACCINATION</th>
            </tr>
            <tr>
              <th rowspan="2">Antigenes</th>
              <th colspan="4">Doses administrées</th>
              <th rowspan="2">Doses utilisées</th>
              <th rowspan="2">Taux de perte</th>
            </tr>
            <tr>
              <th>0-11mois</th>
              <th>12-23mois</th>
              <th>>23mois</th>
              <th>Total</th>
            </tr>
            <tr>
              <td>BCG</td>
              <td id="j3A8puUr3lT.bM2ULjCnqKf"></td>
              <td>0</td>
              <td>0</td>
              <td id="bcg_total"></td>
              <td id="EUDIXTLbqFc.Y1IEJV78ohg"></td>
              <td id="bcg_taux_perte"></td>
            </tr>
            <tr>
              <td>Penta-1</td>
              <td id="G290xSRWg5N.bM2ULjCnqKf"></td>
              <td id="G290xSRWg5N.LLStfhXXh1P"></td>
              <td id="G290xSRWg5N.HOIDSzZmI70"></td>
              <td id="Penta1_total"></td>
              <td id="To8PtuGIrd6.Y1IEJV78ohg"></td>
              <td id="penta1_taux_perte"></td>
            </tr>
            <tr>
              <td>Penta-2</td>
              <td id="Ibe2Sfksm4h.bM2ULjCnqKf"></td>
              <td id="Ibe2Sfksm4h.LLStfhXXh1P"></td>
              <td id="Ibe2Sfksm4h.HOIDSzZmI70"></td>
              <td id="Penta2_total"></td>
              <td>-</td>
              <td id="penta2_taux_perte"></td>
            </tr>
            <tr>
              <td>Penta-3</td>
              <td id="hPjkV6i133g.bM2ULjCnqKf"></td>
              <td id="hPjkV6i133g.LLStfhXXh1P"></td>
              <td id="hPjkV6i133g.HOIDSzZmI70"></td>
              <td id="penta3_total"></td>
              <td>-</td>
              <td id="penta3_taux_perte"></td>
            </tr>
            <tr>
              <td>Polio-0</td>
              <td id="BazGWWSuUSR.bM2ULjCnqKf"></td>
              <td>-</td>
              <td>-</td>
              <td id="polio0_total"></td>
              <td></td>
              <td>4.17%</td>
            </tr>
            <tr>
              <td>Polio-1</td>
              <td id="JRUmdPhq1Zi.bM2ULjCnqKf"></td>
              <td id="JRUmdPhq1Zi.LLStfhXXh1P"></td>
              <td id="JRUmdPhq1Zi.HOIDSzZmI70 ">550</td>
              <td  id="Polio-1_total">1350</td>
              <td>1400</td>
              <td>3.70%</td>
            </tr>
            <tr>
              <td>Polio-2</td>
              <td id="I10rLe4mqXu.bM2ULjCnqK"></td>
              <td id="I10rLe4mqXu.LLStfhXXh1P"></td>
              <td id="I10rLe4mqXu.HOIDSzZmI70"></td>
              <td id="Polio-2_total"></td>
              <td>1550</td>
              <td>3.33%</td>
            </tr>
            <tr>
              <td>Polio-3</td>
              <td id="vE8pNKqjcdg.bM2ULjCnqKf"></td>
              <td id="vE8pNKqjcdg.LLStfhXXh1P"></td>
              <td id="vE8pNKqjcdg.HOIDSzZmI70"></td>
              <td id="Polio-3_total""></td>
              <td>1700</td>
              <td>3.03%</td>
            </tr>
            <tr>
              <td>VPI-1</td>
              <td id="hOuU8SwUG4X.bM2ULjCnqKf"></td>
              <td id="hOuU8SwUG4X.LLStfhXXh1P"></td>
              <td id="hOuU8SwUG4X.HOIDSzZmI70"></td>
              <td id="VPI-1_total"></td>
              <td>1850</td>
              <td>2.78%</td>
            </tr>
            <tr>
              <td>VPI-2</td>
              <td id="jzSVIYXmw63.bM2ULjCnqKf"></td>
              <td id="jzSVIYXmw63.LLStfhXXh1P"></td>
              <td id="jzSVIYXmw63.HOIDSzZmI70"></td>
              <td id="VPI-2_total"></td>
              <td>2000</td>
              <td>2.56%</td>
            </tr>
          </tbody>
        </table>
        <table>
          <thead>
            <tr>
              <th colspan="4">Principaux Indicateurs</th>
            </tr>
            <tr>
              <td colspan="3" >Nombre de district sanitaires:</td>
              <td id="RgldIoF0F9A"></td>
            </tr>
            <tr>
              <td colspan="3" >Nombre de rapports recus:</td>
              <td id="byFa9L7lZ44"></td>
            </tr>
            <tr>
              <td colspan="3" >Nombre de rapports recus a temps:</td>
              <td id="B81IxOVopOg"></td>
            </tr>
            <tr>
              <td colspan="3" >Taux de completude: 2/1 x 100=</td>
              <td id="bemQsFwoMdZ">100%</td>
            </tr>
            <tr>
              <td colspan="3" >Taux de completude: 3/1 x 100=</td>
              <td id="">100%</td>
            </tr>
            <tr>
              <td colspan="4">Couv. Vaccinale du mois /cumulée=</td>
            </tr>
    
            <tr>
              <th colspan="2">(Vaccinations réalisées/Pop.Cible)x100)</th>
              <th>Mensuel</th>
              <th>Cumulée</th>
            </tr>
            <tr>
              <td colspan="2">BCG</td>
              <td id="eSC5MXk4h2m"></td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">Penta-1</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">Penta-2</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">Penta-3</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">VPI-1</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">VPI-2</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">VAR-1</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">VAR-2</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">VAA</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">MenA</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <th colspan="2">Taux d'Abandon</th>
              <th>Mensuel</th>
              <th>Cumulée</th>
            </tr>
            <tr>
              <td colspan="2">Penta-1/Penta-3</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">Penta-1/VAR 1</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">Ecart VAR 1/VAA</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
            <tr>
              <td colspan="2">Ecart Polio 3/VPI 1</td>
              <td>100%</td>
              <td>100%</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
    
    <section id="section_four">
      <h3>Activités de renforcement du PEV  </h3>
      <div>
        <table>
          <thead>
            <tr>
              <th colspan="5">Nombre de stratégies fixes dans le mois          </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
            <tr>
              <td>6</td>
              <td>7</td>
              <td>8</td>
              <td>9</td>
              <td>10</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div>
        <table>
          <thead>
            <tr>
              <th colspan="5">Nombre de causeries dans la formation sanitaire</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td>2</td>
              <td>3</td>
              <td>4</td>
              <td>5</td>
            </tr>
            <tr>
              <td>6</td>
              <td>7</td>
              <td>8</td>
              <td>9</td>
              <td>10</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
    
    <section id="section_five">
      <h3>Situation des stocks du dépôt du district </h3>
      <table>
        <thead>
          <tr>
            <th>Antigenes	</th>
            <th>Stock en début du mois</th>
            <th>Quantité Recue dans le mois</th>
            <th>Quantité perdue virée ou altérée	</th>
            <th>Stock en fin du mois	</th>
            <th>Température</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>BCG</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Penta</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Polio</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>VPI</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>VAR</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>VAA</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>MenA</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Td</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Seringues AB BCG</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Seringues AB 0.5ml</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Seringues dillution</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
          <tr>
            <td>Boîtes de sécurité</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
            <td>5</td>
            <td>6</td>
          </tr>
        </tbody>
      </table>    
      <p>(*) Quantite perdue = non utilisable (Flacons vires, casses, emballage detruit…)</p>
      <!-- <p>(**) Quantite distribuee = Doses distribuees aux centres de sante  </p> -->
    </section>
    <section id="section_nine">
      <h3>Completude & Promptitude</h3>
      <div style="display: flex; justify-content: space-between;">
        <canvas id="completude_promptitude" style="width: 50%;"></canvas>
        <canvas id="total_reports" style="width: 50%;"></canvas>
      </div>
      <h3>Coverage</h3>
      <div style="display: flex; justify-content: space-between;">
          <canvas id="coverage1" style="width: 50%;"></canvas>
          <canvas id="coverage2" style="width: 50%;"></canvas>
      </div>
      <h3>Performance</h3>
      <div style="display: flex; justify-content: space-between;">
          <canvas id="evolution_perf_by_coverage_penta3" style="width: 50%;"></canvas>
          <canvas id="perf_by_category" style="width: 50%;"></canvas>
      </div>
      <div style="display: flex; justify-content: space-between;">
          <canvas id="taux_de_perte_vaccine" style="width: 50%;"></canvas>
          <canvas id="district_utilization_vaccine" style="width: 50%;"></canvas>
      </div>
    </section>
    
    <section id="approvals" class="">
      <p>Date d'envoi du rapport au PEV/DSP : _______________________  </p>
      <p>Nom et signature du Médecin-chef du district : _______________________</p>
      <p>Date de réception du rapport au PEV/DSP: ___________________________</p>
    </section>

  </div>

</body>
</html>



